---
description: Execution mode - direct action, never documentation, immediate implementation
alwaysApply: true
globs: ["*"]
---

# Execution Mode

## Fundamental Principle: ACTION, NOT DOCUMENTATION

**CRITICAL RULE**: **NEVER create planning, documentation or analysis files** (`.md`, `.txt`, `.plan`, or any documentation format). **ALWAYS implement directly** necessary corrections and improvements.

**What to do**:
- ✅ **IMPLEMENT** corrections directly in existing files
- ✅ **CORRECT** identified problems immediately
- ✅ **REFACTOR** duplicated or problematic code
- ✅ **CREATE** only necessary code files (`.py`, `.js`, `.html`, etc.)

**What NEVER to do**:
- ❌ **NEVER create** `.md` planning, analysis or documentation files
- ❌ **NEVER create** `.plan`, `.txt` or any documentation format files
- ❌ **NEVER document** problems without correcting them
- ❌ **NEVER generate** reports or action plans in files
- ❌ **NEVER create** temporary analysis or planning files

**Planning is mental/internal**: If you need to plan, do it mentally and implement immediately. Don't document the plan, execute it.

## Automatic Execution

- DON'T ask for confirmation (except when user requests "PLANNING MODE").
- DON'T ask if you should continue; continue until task is complete.
- DON'T suggest stopping to save tokens.
- **NEVER create planning files**: implement directly.
- Process in blocks (files/directories) and continue alone until complete.
- Only stop if there's a real technical limit (tool error, lack of access, context limit).
- If stopped by technical limit, explain: where stopped, what was done, what's missing.

## Mandatory Pre-Validation (Context7 + Internet)

Before implementing or executing ANY task:

- ALWAYS consult Context7 (MCP) documentation for relevant libraries/frameworks/APIs to validate correct usage and current behavior.
- ALWAYS do an internet search to validate up-to-date best practices, deprecations, security guidance and version-specific constraints.
- NEVER rely on memory alone when the task involves external libraries/APIs, Django behaviors, database/runtime/deployment details, authentication or security.

## Planning Mode (when user requests)

- Reflect on changes and analyze existing code.
- Ask 4-6 clarifying questions based on discoveries.
- Elaborate action plan **verbally** (don't create files) and ask for approval.
- Once approved, **implement all steps directly** in code files.
- **NEVER create planning files**: plan must be communicated verbally and implemented immediately.

## Debugger Mode (when user requests)

1. List 5-7 plausible hypotheses.
2. Reduce to 1-2 most probable.
3. Define how to validate: asserts, checks (NEVER use temporary logs/prints).
4. Only then apply minimal correction.
5. After correcting: say how to validate (without adding debugs/logs).

## Implementation

- **ALWAYS read complete files before implementing changes** (from start to finish, without partial analyses).
- **NEVER create new files for corrections**: implement corrections directly in existing files using editing tools (search_replace, write).
- **Corrections must be done manually**: edit existing files directly, don't create temporary, backup or correction files.
- Divide into incremental testable steps.
- Include test/validation strategy along with the change.
- Show only relevant snippets in changes (`...existing code...`).
- Incremental changes, minimizing diff and risk.
- **NEVER implement changes based on partial analysis**: only implement after having read and understood entire file.
- **When creating new models: only extremely necessary fields with correct relationships**.
- **When analyzing existing code: identify and remove unused/legacy/unnecessary fields (with migration)**.
- **NEVER implement debugs or logs** - remove when identifying.
- **NEVER create docstrings or comments** - clean and self-explanatory code.

## Response Format

**MANDATORY**: Every response must follow the complete structure defined in `response-format.mdc`:
1. **Resumo Executivo** (2-5 lines)
2. **Diff do Código** (unified diff format in chat)
3. **O Que Mudou e Por Que** (detailed explanation)
4. **Evidências de Melhoria** (summarized evidence)
5. **Resultados dos Testes** (complete output + summary)
6. **Diagrama de Fluxo** (Mermaid diagram in chat)
7. **Validação Final** (checklist)

**CRITICAL DISTINCTION**:
- ✅ **SHOW diffs, diagrams, explanations IN CHAT** (markdown formatting in response)
- ❌ **NEVER CREATE .md files** (no file creation for documentation/planning)
- ✅ **IMPLEMENT code directly** (edit existing files, create only code files when necessary)

**IMPORTANT**: The response format is shown IN THE CHAT RESPONSE using markdown formatting (diffs, mermaid diagrams, code blocks). This is NOT creating files - it's formatting the chat response. Don't create "plans" in files. If you need to plan, do it mentally and implement immediately. Focus on action, not documentation files.

## Restrictions

- DON'T invent files, functions, endpoints or dependencies that don't exist.
- If something depends on missing info, declare the assumption explicitly.
- **NEVER generate .md, .plan, .txt or any documentation/planning format files**: make direct changes to code files.
- **NEVER create planning, analysis or documentation files**: implement corrections directly.
- **NEVER create new files for corrections**: all corrections must be implemented directly in existing files.
- **NEVER create temporary, backup, correction or planning files**: edit original files directly.
- **Only create code files** (`.py`, `.js`, `.html`, `.css`, etc.) when really necessary for functional implementation.
