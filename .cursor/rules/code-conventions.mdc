---
description: Code conventions - naming, organization, refactoring, hardcode avoidance
alwaysApply: true
globs: ["**/*.py", "**/*.js", "**/*.ts", "**/*.html"]
---

# Code Conventions

## Principles

- Prefer simple and direct solutions
- Adapt to existing repo style
- Avoid duplication: look for existing implementation before creating another

## Naming

- **Backend (Python/Django)**: code entirely in **ENGLISH** (variables, functions, classes, files, models, views, services)
- **Frontend (templates, HTML, JavaScript)**: user texts and messages in **PORTUGUESE**
- **NEVER create docstrings or comments** - code must be clean and self-explanatory
- **ALWAYS remove docstrings and existing comments** when identifying during analysis/correction
- Clean code: no inline documentation, only functional code

## Organization

- Files > 200-300 lines: refactor by dividing into smaller ones
- Long functions: divide into smaller functions
- Before suggesting external libraries, verify if already exists in project
- Before using or changing ANY external library/API/framework behavior, validate with Context7 (MCP) documentation AND an internet search for up-to-date guidance and deprecations

## Data and Environment

- Simulated data only for tests (never dev/prod)
- Consider the 3 environments:
  - **Local**: SQLite (development)
  - **Kubernetes Postgres Homologation**: test environment
  - **Kubernetes Postgres Production**: production environment
- NEVER overwrite `.env` without asking

## Refactoring

- Make only requested or well-understood changes
- DON'T introduce new pattern/technology without exhausting existing options
- If introducing, remove old implementation (no duplication)
- **Identify and remove unused/legacy/unnecessary fields in models**
- **In new implementations, create only extremely necessary fields**

## Hardcode and Dynamism

- **Avoid hardcode**: make code dynamic, expandable and customizable
- **CRUDs must be generic/configurable**, not fixed
- **Always think in CRUD**: every implementation must follow generic and reusable pattern
- **Avoid complex conditional structures**: prefer configuration, dictionaries, or polymorphism
- **Acceptable exception**: initial seed commands to populate data on initialization
